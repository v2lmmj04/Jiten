/// Tests taken from https://github.com/tshatrov/ichiran/blob/master/tests.lisp

namespace Jiten.Parser.Tests;

using Xunit;
using FluentAssertions;

public class ParserTests
{
    private async Task<IEnumerable<WordInfo>> Parse(string text)
    {
        var parser = new Parser();
        return await parser.Parse(text);
    }

    [Theory]
    [InlineData("ご注文はうさぎですか", new[] { "ご注文", "は", "うさぎ", "ですか" })]
    [InlineData("しませんか", new[] { "しません", "か" })]
    [InlineData("ドンマイ", new[] { "ドンマイ" })]
    [InlineData("みんな土足でおいで", new[] { "みんな", "土足で", "おいで" })]
    [InlineData("おもわぬオチ提供中", new[] { "おもわぬ", "オチ", "提供", "中" })]
    [InlineData("わたし", new[] { "わたし" })]
    [InlineData("お姉ちゃんにまかせて地球まるごと", new[] { "お姉ちゃん", "に", "まかせて", "地球", "まるごと" })]
    [InlineData("名人になってるはず", new[] { "名人", "に", "なってる", "はず" })]
    [InlineData("いいとこ", new[] { "いいとこ" })]
    [InlineData("そういうお隣どうし", new[] { "そういう", "お", "隣", "どうし" })]
    [InlineData("はしゃいじゃう", new[] { "はしゃいじゃう" })]
    [InlineData("分かっちゃうのよ", new[] { "分かっちゃう", "の", "よ" })]
    [InlineData("懐かしく新しいまだそしてまた", new[] { "懐かしく", "新しい", "まだ", "そして", "また" })]
    [InlineData("あたりまえみたいに思い出いっぱい", new[] { "あたりまえ", "みたい", "に", "思い出", "いっぱい" })]
    [InlineData("何でもない日々とっておきのメモリアル", new[] { "何でもない", "日々", "とっておき", "の", "メモリアル" })]
    [InlineData("しつれいしなければならないんです", new[] { "しつれいし", "なければならない", "んです" })]
    [InlineData("だけど気付けば馴染んじゃってる", new[] { "だけど", "気付けば", "馴染んじゃってる" })]
    [InlineData("飲んで笑っちゃえば", new[] { "飲んで", "笑っちゃえば" })]
    [InlineData("なんで", new[] { "なんで" })]
    [InlineData("遠慮しないでね", new[] { "遠慮", "しないで", "ね" })]
    [InlineData("出かけるまえに", new[] { "出かける", "まえに" })]
    [InlineData("感じたいでしょ", new[] { "感じたい", "でしょ" })]
    [InlineData("まじで", new[] { "まじ", "で" })]
    [InlineData("その山を越えたとき", new[] { "その", "山", "を", "越えた", "とき" })]
    [InlineData("遊びたいのに", new[] { "遊びたい", "のに" })]
    [InlineData("しながき", new[] { "しながき" })]
    [InlineData("楽しさ求めて", new[] { "楽しさ", "求めて" })]
    [InlineData("日常のなかにも", new[] { "日常", "の", "なかにも" })]
    [InlineData("ほんとは好きなんだと", new[] { "ほんと", "は", "好きな", "んだ", "と" })]
    [InlineData("内緒なの", new[] { "内緒", "なの" })]
    [InlineData("魚が好きじゃない", new[] { "魚", "が", "好き", "じゃない" })]
    [InlineData("物語になってく", new[] { "物語", "に", "なってく" })]
    [InlineData("書いてきてくださった", new[] { "書いてきて", "くださった" })]
    [InlineData("今日は何の日", new[] { "今日", "は", "何の", "日" })]
    [InlineData("何から話そうか", new[] { "何", "から", "話そう", "か" })]
    [InlineData("進化してく友情", new[] { "進化してく", "友情" })]
    [InlineData("私に任せてくれ", new[] { "私", "に", "任せて", "くれ" })]
    [InlineData("時までに帰ってくると約束してくれるのなら外出してよろしい", new[] { "時", "まで", "に", "帰ってくる", "と", "約束して", "くれる", "の", "なら", "外出して", "よろしい" })]
    [InlineData("雨が降りそうな気がします", new[] { "雨", "が", "降りそう", "な", "気がします" })]
    [InlineData("新しそうだ", new[] { "新しそう", "だ" })]
    [InlineData("本を読んだりテレビを見たりします", new[] { "本", "を", "読んだり", "テレビ", "を", "見たり", "します" })]
    [InlineData("今日母はたぶんうちにいるでしょう", new[] { "今日", "母", "は", "たぶん", "うち", "に", "いる", "でしょう" })]
    [InlineData("赤かったろうです", new[] { "赤かったろう", "です" })]
    [InlineData("そう呼んでくれていい", new[] { "そう", "呼んで", "くれて", "いい" })]
    [InlineData("払わなくてもいい", new[] { "払わなくて", "も", "いい" })]
    [InlineData("体に悪いと知りながらタバコをやめることはできない", new[] { "体", "に", "悪い", "と", "知りながら", "タバコをやめる", "こと", "は", "できない" })]
    [InlineData("いつもどうり", new[] { "いつも", "どうり" })]
    [InlineData("微笑みはまぶしすぎる", new[] { "微笑み", "は", "まぶしすぎる" })]
    [InlineData("なにをしていますか", new[] { "なに", "を", "しています", "か" })]
    [InlineData("優しすぎそのうえカッコいいの", new[] { "優しすぎ", "そのうえ", "カッコいい", "の" })]
    [InlineData("この本は複雑すぎるから", new[] { "この", "本", "は", "複雑", "すぎる", "から" })]
    [InlineData("かわいいです", new[] { "かわいい", "です" })]
    [InlineData("なんだから", new[] { "なんだ", "から" })]
    [InlineData("名付けたい", new[] { "名付けたい" })]
    [InlineData("切なくなってしまう", new[] { "切なく", "なってしまう" })]
    [InlineData("誰かいなくなった", new[] { "誰か", "いなくなった" })]
    [InlineData("思い出すな", new[] { "思い出す", "な" })]
    [InlineData("かなって思ったら", new[] { "かな", "って", "思ったら" })]
    [InlineData("法律にかなっているさま", new[] { "法律", "に", "かなっている", "さま" })]
    [InlineData("ことすら難しい", new[] { "こと", "すら", "難しい" })]
    [InlineData("投下しました", new[] { "投下しました" })]
    [InlineData("そんなのでいいと思ってるの", new[] { "そんな", "ので", "いい", "と", "思ってる", "の" })]
    [InlineData("だけが墓参りしてた", new[] { "だけ", "が", "墓参り", "してた" })]
    [InlineData("はいいんだけどな", new[] { "は", "いい", "ん", "だけど", "な" })]
    [InlineData("反論は認めません", new[] { "反論", "は", "認めません" })]
    [InlineData("見たような気がする", new[] { "見た", "ような気がする" })]
    [InlineData("幽霊を見たような顔つきをしていた", new[] { "幽霊", "を", "見た", "ような", "顔つき", "を", "していた" })]
    [InlineData("元気になる", new[] { "元気", "に", "なる" })]
    [InlineData("半端なかった", new[] { "半端なかった" })]
    [InlineData("一人ですね", new[] { "一人", "です", "ね" })]
    [InlineData("行事がある", new[] { "行事", "が", "ある" })]
    [InlineData("当てられたものになる", new[] { "当てられた", "ものになる" })]
    [InlineData("獲得しうる", new[] { "獲得しうる" })]
    [InlineData("ことができず", new[] { "ことができず" })]
    [InlineData("一生一度だけの忘られぬ約束", new[] { "一生一度", "だけ", "の", "忘られぬ", "約束" })]
    [InlineData("やらずにこの路線でよかったのに", new[] { "やらず", "に", "この", "路線", "で", "よかった", "のに" })]
    [InlineData("歌ってしまいそう", new[] { "歌ってしまいそう" })]
    [InlineData("しまいそう", new[] { "しまいそう" })]
    [InlineData("まいそう祭り", new[] { "まいそう", "祭り" })]
    [InlineData("何ですか", new[] { "何", "ですか" })]
    [InlineData("浮かれたいから", new[] { "浮かれたい", "から" })]
    [InlineData("なくなっちゃう", new[] { "なくなっちゃう" })]
    [InlineData("になりそうだけど", new[] { "に", "なりそう", "だけど" })]
    [InlineData("これは辛い選択になりそうだな", new[] { "これ", "は", "辛い", "選択", "に", "なりそう", "だ", "な" })]
    [InlineData("はっきりしそうだな", new[] { "はっきりしそう", "だ", "な" })]
    [InlineData("泣きそうなんだけど", new[] { "泣きそうな", "んだ", "けど" })]
    [InlineData("これですね", new[] { "これ", "です", "ね" })]
    [InlineData("忘れなく", new[] { "忘れなく" })]
    [InlineData("じゃないですか", new[] { "じゃないです", "か" })]
    [InlineData("純粋さ健気さ", new[] { "純粋さ", "健気さ" })]
    [InlineData("着てたからね", new[] { "着てた", "から", "ね" })]
    [InlineData("仕出かすからだと思います", new[] { "仕出かす", "から", "だ", "と", "思います" })]
    [InlineData("みんながした", new[] { "みんな", "が", "した" })]
    [InlineData("ほうが速いと", new[] { "ほう", "が", "速い", "と" })]
    [InlineData("注意してください", new[] { "注意して", "ください" })]
    [InlineData("昨日といいどうしてこう", new[] { "昨日", "といい", "どうして", "こう" })]
    [InlineData("いっぱいきそう", new[] { "いっぱい", "きそう" })]
    [InlineData("仲良しになったら", new[] { "仲良し", "に", "なったら" })]
    [InlineData("全くといっていい", new[] { "全く", "と", "いって", "いい" })]
    [InlineData("発狂しそうなんだ", new[] { "発狂し", "そう", "なんだ" })]
    [InlineData("していたんだ", new[] { "していた", "ん", "だ" })]
    [InlineData("引き上げられた", new[] { "引き上げられた" })]
    [InlineData("をつかむため", new[] { "を", "つかむ", "ため" })]
    [InlineData("ときが自分", new[] { "とき", "が", "自分" })]
    [InlineData("もうこころ", new[] { "もう", "こころ" })]
    [InlineData("届けしたら", new[] { "届け", "したら" })]
    [InlineData("おまえら低いんだよ", new[] { "おまえら", "低い", "んだ", "よ" })]
    [InlineData("すべてがかかっていると思いながら", new[] { "すべて", "が", "かかっている", "と", "思いながら" })]
    [InlineData("がいないとこの", new[] { "が", "いない", "と", "この" })]
    [InlineData("エロいと思っちゃう", new[] { "エロい", "と", "思っちゃう" })]
    [InlineData("変わり映えしない", new[] { "変わり映え", "しない" })]
    [InlineData("あなたがいなきゃこんな計画思いつかなかった", new[] { "あなた", "が", "いなきゃ", "こんな", "計画", "思いつかなかった" })]
    [InlineData("見たかったです", new[] { "見たかった", "です" })]
    [InlineData("出来て楽しかったな", new[] { "出来て", "楽しかった", "な" })]
    [InlineData("つかってください", new[] { "つかって", "ください" })]
    [InlineData("誰もが思ってた", new[] { "誰も", "が", "思ってた" })]
    [InlineData("参考にしたらしい", new[] { "参考にした", "らしい" })]
    [InlineData("狙いやすそうで", new[] { "狙い", "やすそう", "で" })]
    [InlineData("予定はございませんので", new[] { "予定", "は", "ございません", "ので" })]
    [InlineData("犬はトラックにはねられた", new[] { "犬", "は", "トラック", "に", "はねられた" })]
    [InlineData("仕事してください", new[] { "仕事して", "ください" })]
    [InlineData("おいかけっこしましょ", new[] { "おいかけっこ", "しましょ" })]
    [InlineData("イラストカードが付きます", new[] { "イラスト", "カード", "が", "付きます" })]
    [InlineData("じゃないかしら", new[] { "じゃない", "かしら" })]
    [InlineData("いつか本当に", new[] { "いつか", "本当に" })]
    [InlineData("言い方もします", new[] { "言い方", "も", "します" })]
    [InlineData("何でこれ", new[] { "何で", "これ" })]
    [InlineData("こういう物語ができるんだ", new[] { "こういう", "物語", "が", "できる", "んだ" })]
    [InlineData("といったところでしょうか", new[] { "といった", "ところ", "でしょうか" })]
    [InlineData("広めたいと思っている", new[] { "広めたい", "と", "思っている" })]
    [InlineData("やらしいです", new[] { "やらしい", "です" })]
    [InlineData("荒いとこもある", new[] { "荒い", "とこ", "も", "ある" })]
    [InlineData("あったかいとこ行こう", new[] { "あったかい", "とこ", "行こう" })]
    [InlineData("ぶっちゃけ話", new[] { "ぶっちゃけ", "話" })]
    [InlineData("いけないわー", new[] { "いけない", "わー" })]
    [InlineData("社長としてやっていけないわ", new[] { "社長", "として", "やっていけない", "わ" })]
    [InlineData("よくわかんないけど", new[] { "よく", "わかんない", "けど" })]
    [InlineData("ほうがいいんじゃないの", new[] { "ほうがいい", "ん", "じゃない", "の" })]
    [InlineData("こんなんじゃ", new[] { "こんなん", "じゃ" })]
    [InlineData("増やしたほうがいいな", new[] { "増やした", "ほうがいい", "な" })]
    [InlineData("屈しやすいものだ", new[] { "屈し", "やすい", "もの", "だ" })]
    [InlineData("目をもっている", new[] { "目", "を", "もっている" })]
    [InlineData("これが君のなすべきものだ", new[] { "これ", "が", "君", "の", "なすべき", "もの", "だ" })]
    [InlineData("泥棒をつかまえた", new[] { "泥棒", "を", "つかまえた" })]
    [InlineData("金もないし友達もいません", new[] { "金", "も", "ない", "し", "友達", "も", "いません" })]
    [InlineData("出来たからほら見てよ", new[] { "出来た", "から", "ほら", "見て", "よ" })]
    [InlineData("眠いからもう寝るね", new[] { "眠い", "から", "もう", "寝る", "ね" })]
    [InlineData("浮気してやがった", new[] { "浮気してやがった" })]
    [InlineData("見本通りに", new[] { "見本", "通り", "に" })]
    [InlineData("不適応", new[] { "不", "適応" })]
    [InlineData("良いそうです", new[] { "良い", "そうです" })]
    [InlineData("むらむらとわいた", new[] { "むらむら", "と", "わいた" })]
    [InlineData("否定しちゃいけない", new[] { "否定しちゃ", "いけない" })]
    [InlineData("観たいです", new[] { "観たい", "です" })]
    [InlineData("あんたはわからん", new[] { "あんた", "は", "わからん" })]
    [InlineData("見られたくないとこ", new[] { "見られたくない", "とこ" })]
    [InlineData("三十八", new[] { "三十八" })]
    [InlineData("エロそうだヤバそうだ", new[] { "エロそう", "だ", "ヤバそう", "だ" })]
    [InlineData("睡眠を十分にとってください", new[] { "睡眠", "を", "十分", "にとって", "ください" })]
    [InlineData("そうなんだけど", new[] { "そう", "なんだ", "けど" })]
    [InlineData("進んでない", new[] { "進んでない" })]
    [InlineData("一回だけであとは言わない", new[] { "一回", "だけ", "で", "あと", "は", "言わない" })]
    [InlineData("ご親切に恐縮しております", new[] { "ご親切に", "恐縮しております" })]
    [InlineData("官吏となっておる者がある", new[] { "官吏", "と", "なっておる", "者", "が", "ある" })]
    [InlineData("間違えておられたようですね", new[] { "間違えておられた", "ようです", "ね" })]
    [InlineData("人気のせいな", new[] { "人気", "の", "せい", "な" })]
    [InlineData("コレはアレ", new[] { "コレ", "は", "アレ" })]
    [InlineData("上に文字があったり", new[] { "上", "に", "文字", "が", "あったり" })]
    [InlineData("言っただろ", new[] { "言った", "だろ" })]
    [InlineData("嵐が起ころうとしている", new[] { "嵐", "が", "起ころうとしている" })]
    [InlineData("知らないでしょう", new[] { "知らない", "でしょう" })]
    [InlineData("読まないでしょう", new[] { "読まない", "でしょう" })]
    [InlineData("来ないでしょう", new[] { "来ない", "でしょう" })]
    [InlineData("何もかもがめんどい", new[] { "何もかも", "が", "めんどい" })]
    [InlineData("なにもかもがめんどい", new[] { "なにもかも", "が", "めんどい" })]
    [InlineData("あいつ規制されりゃいいのに", new[] { "あいつ", "規制されりゃ", "いい", "のに" })]
    [InlineData("塗ってみようと思って", new[] { "塗って", "みよう", "と", "思って" })]
    [InlineData("肩を並べられなかった", new[] { "肩を並べられなかった" })]
    [InlineData("じゃなくて良かった", new[] { "じゃなくて", "良かった" })]
    [InlineData("申し訳なさそう", new[] { "申し訳なさそう" })]
    [InlineData("決まってたし", new[] { "決まってた", "し" })]
    [InlineData("決まっている", new[] { "決まっている" })]
    [InlineData("恐れ入りました", new[] { "恐れ入りました" })]
    [InlineData("はうまい", new[] { "は", "うまい" })]
    [InlineData("弾け飛びました", new[] { "弾け飛びました" })]
    [InlineData("ぶっこんでいるようで", new[] { "ぶっこんでいる", "よう", "で" })]
    [InlineData("じゃないけど下手に", new[] { "じゃない", "けど", "下手", "に" })]
    [InlineData("的にそうではない", new[] { "的", "に", "そう", "ではない" })]
    [InlineData("入り込めなかった", new[] { "入り込めなかった" })]
    [InlineData("がいまいちなんだよ", new[] { "が", "いまいち", "なんだ", "よ" })]
    [InlineData("脱がしにかかってる", new[] { "脱がし", "に", "かかってる" })]
    [InlineData("必死になってる", new[] { "必死", "に", "なってる" })]
    [InlineData("安心させた", new[] { "安心", "させた" })]
    [InlineData("人が好きそうだ", new[] { "人", "が", "好き", "そう", "だ" })]
    [InlineData("もっていこうとする", new[] { "もっていこう", "とする" })]
    [InlineData("増やして", new[] { "増やして" })]
    [InlineData("ぜいたくで", new[] { "ぜいたく", "で" })]
    [InlineData("したくらいで", new[] { "した", "くらい", "で" })]
    [InlineData("でもうまく人", new[] { "でも", "うまく", "人" })]
    [InlineData("好き嫌いもしないように", new[] { "好き嫌い", "も", "しない", "ように" })]
    [InlineData("のどこが思える", new[] { "の", "どこ", "が", "思える" })]
    [InlineData("無理しなくていいから", new[] { "無理しなくていい", "から" })]
    [InlineData("調子にのらないほうが", new[] { "調子にのらない", "ほう", "が" })]
    [InlineData("こなさそう", new[] { "こなさそう" })]
    [InlineData("伸びてこなさそう", new[] { "伸びてこなさそう" })]
    [InlineData("手にとって", new[] { "手にとって" })]
    [InlineData("平和である", new[] { "平和", "で", "ある" })]
    [InlineData("私にとっては少しおかしいです", new[] { "私", "にとって", "は", "少し", "おかしい", "です" })]
    [InlineData("パーティーは", new[] { "パーティー", "は" })]
    [InlineData("彼以上のばかはいない", new[] { "彼", "以上", "の", "ばか", "は", "いない" })]
    [InlineData("君がいないと淋しい", new[] { "君", "が", "いない", "と", "淋しい" })]
    [InlineData("思いきって", new[] { "思いきって" })]
    [InlineData("思いきっている", new[] { "思いきっている" })]
    [InlineData("大事になります", new[] { "大事", "に", "なります" })]
    [InlineData("元気にします", new[] { "元気", "に", "します" })]
    [InlineData("ご迷惑おかけしてすみません", new[] { "ご迷惑", "おかけして", "すみません" })]
    [InlineData("不便をおかけすることを謝ります", new[] { "不便", "を", "おかけする", "こと", "を", "謝ります" })]
    [InlineData("お手数おかけし申し訳ないが", new[] { "お手数", "おかけし", "申し訳ない", "が" })]
    [InlineData("私はあなたにお手数をおかけました", new[] { "私", "は", "あなた", "に", "お手数", "を", "お", "かけました" })]
    [InlineData("ここにおかけなさい", new[] { "ここ", "に", "お", "かけなさい" })]
    [InlineData("弾き出されてる", new[] { "弾き出されてる" })]
    [InlineData("ぶっちゃけ", new[] { "ぶっちゃけ" })]
    [InlineData("賢人たち", new[] { "賢人", "たち" })]
    [InlineData("差ついた", new[] { "差", "ついた" })]
    [InlineData("ですら", new[] { "ですら" })]
    [InlineData("でさえ", new[] { "でさえ" })]
    [InlineData("みごとにやってのける", new[] { "みごと", "に", "やってのける" })]
    [InlineData("いる", new[] { "いる" })]
    [InlineData("お下がり", new[] { "お下がり" })]
    [InlineData("でも１０００台とか１桁はあんまりだよな", new[] { "でも", "１０００", "台", "とか", "１桁", "は", "あんまり", "だ", "よな" })]
    [InlineData("みんなにうらやましがられている", new[] { "みんな", "に", "うらやましがられている" })]
    [InlineData("悪がられて", new[] { "悪がられて" })]
    [InlineData("期待されがちなので男女", new[] { "期待されがち", "なので", "男女" })]
    [InlineData("とぎれがちに話す", new[] { "とぎれがち", "に", "話す" })]
    [InlineData("手にとっていただきやすくなる", new[] { "手にとって", "いただき", "やすくなる" })]
    [InlineData("さほど", new[] { "さほど" })]
    [InlineData("大きさほどもある", new[] { "大きさ", "ほど", "も", "ある" })]
    [InlineData("しかいない", new[] { "しか", "いない" })]
    [InlineData("掴めていない", new[] { "掴めていない" })]
    [InlineData("振り回されたいな", new[] { "振り回されたい", "な" })]
    [InlineData("さぼっている", new[] { "さぼっている" })]
    [InlineData("のままで来る", new[] { "の", "まま", "で", "来る" })]
    [InlineData("５人中４人", new[] { "５人中", "４人" })]
    [InlineData("彼はどなりすぎて声をからした", new[] { "彼", "は", "どなり", "すぎて", "声", "を", "からした" })]
    [InlineData("そうしたいからしただけだ", new[] { "そう", "したい", "から", "した", "だけ", "だ" })]
    [InlineData("推し続けている", new[] { "推し", "続けている" })]
    [InlineData("少し直せたら", new[] { "少し", "直せたら" })]
    [InlineData("良いほう", new[] { "良い", "ほう" })]
    [InlineData("いいえ", new[] { "いいえ" })]
    [InlineData("割り当てられた", new[] { "割り当てられた" })]
    [InlineData("綺麗だけど近よりがたいよね", new[] { "綺麗", "だけど", "近よりがたい", "よね" })]
    [InlineData("そうなんじゃない", new[] { "そう", "な", "ん", "じゃない" })]
    [InlineData("なんというかすみません", new[] { "なんというか", "すみません" })]
    [InlineData("めんどくそがる", new[] { "めんどくそがる" })]
    [InlineData("がなんで終わった", new[] { "が", "なんで", "終わった" })]
    [InlineData("てか最近ファン層は円盤すら買わないからそいつらから金とるってのは無謀",
                new[] { "てか", "最近", "ファン", "層", "は", "円盤", "すら", "買わない", "から", "そいつら", "から", "金", "とる", "ってのは", "無謀" })]
    [InlineData("とろいな", new[] { "とろい", "な" })]
    [InlineData("なんでもかんでも", new[] { "なんでもかんでも" })]
    [InlineData("しないかい", new[] { "しない", "かい" })]
    [InlineData("参拝しちゃいかんという人がいます",
                new[] { "参拝しちゃ", "いかん", "という", "人", "が", "います" })]
    [InlineData("人をひやかしちゃいやよ", new[] { "人", "を", "ひやかしちゃ", "いや", "よ" })]
    [InlineData("しちゃいたい", new[] { "しちゃいたい" })]
    [InlineData("けがなどをしないように", new[] { "けが", "など", "を", "しない", "ように" })]
    [InlineData("買い支えたいと思う", new[] { "買い", "支えたい", "と", "思う" })]
    [InlineData("おじゃましています", new[] { "おじゃましています" })]
    [InlineData("とかいらんから", new[] { "とか", "いらん", "から" })]
    [InlineData("ということだろうけど", new[] { "という", "こと", "だろう", "けど" })]
    [InlineData("のはわからなくもない", new[] { "の", "は", "わからなく", "も", "ない" })]
    [InlineData("変わっていくだろう", new[] { "変わっていく", "だろう" })]
    [InlineData("待ってねぇ", new[] { "待って", "待って", "ねぇ" })]
    [InlineData("見せなきゃいけなくなって", new[] { "見せ", "なきゃ", "いけ", "なくなって" })]
    [InlineData("私じゃなくなるような瞬間があって", new[] { "私", "じゃ", "なくなる", "ような", "瞬間", "が", "あって" })]
    [InlineData("効いててかなりぬくい", new[] { "効いてて", "かなり", "ぬくい" })]
    [InlineData("撮影してていつもは", new[] { "撮影してて", "いつも", "は" })]
    [InlineData("むしろいないほうが珍しい", new[] { "むしろ", "いない", "ほう", "が", "珍しい" })]
    [InlineData("旅行にいきたい", new[] { "旅行", "に", "いきたい" })]
    [InlineData("見ててこんな話あったっけ", new[] { "見てて", "こんな", "話", "あった", "っけ" })]
    [InlineData("いじめとかある", new[] { "いじめ", "とか", "ある" })]
    [InlineData("となったらしい", new[] { "となった", "らしい" })]
    [InlineData("基地外が必死過ぎ", new[] { "基地外", "が", "必死", "過ぎ" })]
    [InlineData("調整のせいとか", new[] { "調整", "の", "せい", "とか" })]
    [InlineData("はっしていない", new[] { "はっしていない" })]
    [InlineData("無理さえしなければ", new[] { "無理", "さえ", "しなければ" })]
    [InlineData("ところで", new[] { "ところで" })]
    [InlineData("外に出て", new[] { "外", "に", "出て" })]
    [InlineData("大人しそうな顔", new[] { "大人しそう", "な", "顔" })]
    [InlineData("おとなしそうなようすにだまされた", new[] { "おとなしそう", "な", "ようす", "に", "だまされた" })]
    [InlineData("勝手に入る", new[] { "勝手に", "入る" })]
    [InlineData("後継ぎする", new[] { "後継ぎ", "する" })]
    [InlineData("なすまん", new[] { "な", "すまん" })]
    [InlineData("強いんだね", new[] { "強い", "ん", "だ", "ね" })]
    [InlineData("おんなじなんだろ", new[] { "おんなじ", "な", "ん", "だろ" })]
    [InlineData("次がある", new[] { "次", "が", "ある" })]
    [InlineData("のせいですね", new[] { "の", "せい", "です", "ね" })]
    [InlineData("それただの怪しい人ですし", new[] { "それ", "ただ", "の", "怪しい", "人", "です", "し" })]
    [InlineData("ごときが知る", new[] { "ごとき", "が", "知る" })]
    [InlineData("山にはさまれて", new[] { "山", "に", "はさまれて" })]
    [InlineData("物がぼんやりとかすんで見える", new[] { "物", "が", "ぼんやり", "と", "かすんで", "見える" })]
    [InlineData("どなた様でございましょうか", new[] { "どなた", "様", "でございましょう", "か" })]
    [InlineData("読んでくださりありがとうございました", new[] { "読んで", "くださり", "ありがとうございました" })]
    [InlineData("ふざけんな", new[] { "ふざけんな" })]
    [InlineData("観終わってた", new[] { "観", "終わってた" })]
    [InlineData("意味深終わり", new[] { "意味深", "終わり" })]
    [InlineData("今日とて居残りです", new[] { "今日", "とて", "居残り", "です" })]
    [InlineData("堪能させていただきます", new[] { "堪能させて", "いただきます" })]
    [InlineData("わからんからそう思った", new[] { "わからん", "から", "そう", "思った" })]
    [InlineData("うちからそうなっても", new[] { "うち", "から", "そう", "なって", "も" })]
    [InlineData("上映会やな", new[] { "上映", "会", "や", "な" })]
    [InlineData("以上書いてください", new[] { "以上", "書いて", "ください" })]
    [InlineData("してしまったのがいまだに忘れられないし", new[] { "してしまった", "の", "が", "いまだに", "忘れられない", "し" })]
    [InlineData("彼ははんぱじゃなく", new[] { "彼", "は", "はんぱじゃなく" })]
    [InlineData("許さないじゃなくてさ", new[] { "許さない", "じゃなくて", "さ" })]
    [InlineData("じゃなかったです", new[] { "じゃなかったです" })]
    [InlineData("彼女は苦しげにうめいて横たわった", new[] { "彼女", "は", "苦しげ", "に", "うめいて", "横たわった" })]
    [InlineData("わたしにはちょっとわかりかねますので", new[] { "わたし", "には", "ちょっと", "わかりかねます", "ので" })]
    [InlineData("腕をつかまれて路地", new[] { "腕", "を", "つかまれて", "路地" })]
    [InlineData("別にマイナスにならん", new[] { "別に", "マイナス", "に", "ならん" })]
    [InlineData("遊びばかりはだめだよ", new[] { "遊び", "ばかり", "は", "だめ", "だ", "よ" })]
    [InlineData("最中でも", new[] { "最中", "でも" })]
    [InlineData("小動物好き物好き", new[] { "小動物", "好き", "物好き" })]
    [InlineData("知れないですか", new[] { "知れない", "ですか" })]
    [InlineData("かも知れないですね", new[] { "かも知れない", "です", "ね" })]
    [InlineData("匙ですくう", new[] { "匙", "で", "すくう" })]
    [InlineData("デカかったクドくない", new[] { "デカかった", "クドくない" })]
    [InlineData("決めたらしい教われたらしい", new[] { "決めた", "らしい", "教われた", "らしい" })]
    [InlineData("臆病なくせにとてもよい仲間だった", new[] { "臆病な", "くせに", "とても", "よい", "仲間", "だった" })]
    [InlineData("あのねあのさ", new[] { "あのね", "あのさ" })]
    [InlineData("これまでになかったような名優", new[] { "これまで", "に", "なかった", "ような", "名優" })]
    [InlineData("確かめてちゃんと", new[] { "確かめて", "ちゃんと" })]
    [InlineData("ことにしましょうってなった", new[] { "ことにしましょう", "って", "なった" })]
    [InlineData("見てござる", new[] { "見て", "ござる" })]
    [InlineData("彼がいうことはわけがわからない", new[] { "彼", "が", "いう", "こと", "は", "わけがわからない" })]
    [InlineData("わけのわからないことをくどくど言う", new[] { "わけのわからない", "こと", "を", "くどくど", "言う" })]
    [InlineData("ごくまれに", new[] { "ごくまれ", "に" })]
    [InlineData("癒やされたかった", new[] { "癒やされたかった" })]
    [InlineData("７時には帰ってきなさい", new[] { "７時", "には", "帰ってきなさい" })]
    [InlineData("人はいますか", new[] { "人", "は", "います", "か" })]
    [InlineData("トマトづくし", new[] { "トマト", "づくし" })]
    [InlineData("見えざる関係性", new[] { "見えざる", "関係性" })]
    [InlineData("だめだったら", new[] { "だめ", "だったら" })]
    [InlineData("万事不都合の無いようにはからってくれ", new[] { "万事", "不都合", "の", "無い", "ように", "はからって", "くれ" })]
    [InlineData("ではみなさん", new[] { "では", "みなさん" })]
    [InlineData("鉄とはがね", new[] { "鉄", "と", "はがね" })]
    [InlineData("抹茶とは", new[] { "抹茶", "とは" })]
    [InlineData("当たりとはずれ", new[] { "当たり", "と", "はずれ" })]
    [InlineData("工夫がされる", new[] { "工夫", "が", "される" })]
    [InlineData("うまいことしたね", new[] { "うまいこと", "した", "ね" })]
    [InlineData("ことしは新成人１４人のうち８人が避難先などから村の村民会館に集まりました",
                new[] { "ことし", "は", "新成人", "１４人", "の", "うち", "８人", "が", "避難先", "など", "から", "村", "の", "村民", "会館", "に", "集まりました" })]
    [InlineData("鬱が悪化する", new[] { "鬱", "が", "悪化", "する" })]
    [InlineData("一部が手に入ればことし１年の願いがかなうとされています", new[] { "一部", "が", "手に入れば", "ことし", "１年", "の", "願い", "が", "かなう", "とされています" })]
    [InlineData("汗を流しました", new[] { "汗を流しました" })]
    [InlineData("気がついてる", new[] { "気がついてる" })]
    [InlineData("ガスがついている", new[] { "ガス", "が", "ついている" })]
    [InlineData("再開通", new[] { "再", "開通" })]
    [InlineData("謝罪はあったにせよ", new[] { "謝罪", "は", "あった", "にせよ" })]
    [InlineData("うそではないにしろ", new[] { "うそ", "ではない", "にしろ" })]
    [InlineData("普段着てる服", new[] { "普段", "着てる", "服" })]
    [InlineData("エレガントなお洋服", new[] { "エレガントな", "お", "洋服" })]
    [InlineData("老いてなお元気なこと", new[] { "老いて", "なお", "元気な", "こと" })]
    [InlineData("何も口にせぬ", new[] { "何も", "口", "に", "せぬ" })]
    [InlineData("切ねぇ", new[] { "切ねぇ" })]
    [InlineData("何故人気がある", new[] { "何故", "人気がある" })]
    [InlineData("バラしちゃってる", new[] { "バラしちゃってる" })]
    [InlineData("気を使わせている", new[] { "気を使わせている" })]
    [InlineData("一段上がる", new[] { "一段", "上がる" })]
    [InlineData("一段落ちる", new[] { "一段", "落ちる" })]
    [InlineData("恐怖ですくむ", new[] { "恐怖", "で", "すくむ" })]
    [InlineData("全員がたちすくみました", new[] { "全員", "が", "たちすくみました" })]
    [InlineData("雪がないため", new[] { "雪", "が", "ない", "ため" })]
    [InlineData("雪がなく", new[] { "雪", "が", "なく" })]
    [InlineData("零れ落ちてる", new[] { "零れ落ちてる" })]
    [InlineData("使い物にならんだろ", new[] { "使い物", "に", "ならん", "だろ" })]
    [InlineData("私とならんで走った", new[] { "私", "と", "ならんで", "走った" })]
    [InlineData("のうえに", new[] { "の", "うえ", "に" })]
    [InlineData("皇位についたが", new[] { "皇位", "に", "ついた", "が" })]
    [InlineData("疱瘡がついたか", new[] { "疱瘡", "が", "ついた", "か" })]
    [InlineData("折りたたみ式ついたて", new[] { "折りたたみ式", "ついたて" })]
    [InlineData("いろいろな部分をもんだりこすったりすること", new[] { "いろいろな", "部分", "を", "もんだり", "こすったり", "する", "こと" })]
    [InlineData("たまにはいいもんだよ", new[] { "たまに", "は", "いい", "もん", "だ", "よ" })]
    [InlineData("歩みをはやめるのだった", new[] { "歩み", "を", "はやめる", "の", "だった" })]
    [InlineData("たばこはやめると誓います", new[] { "たばこ", "は", "やめる", "と", "誓います" })]
    [InlineData("私個人の生活についてとやかくうるさくいうのはやめてください",
                new[] { "私", "個人", "の", "生活", "について", "とやかく", "うるさく", "いう", "の", "は", "やめて", "ください" })]
    [InlineData("こもりがちな人", new[] { "こもりがち", "な", "人" })]
    [InlineData("がちなやつ", new[] { "がち", "な", "やつ" })]
    [InlineData("長くはかからないでしょう", new[] { "長く", "は", "かからない", "でしょう" })]
    [InlineData("人はいないでしょうね", new[] { "人", "は", "いない", "でしょう", "ね" })]
    [InlineData("人はいないですね", new[] { "人", "は", "いない", "です", "ね" })]
    [InlineData("猛者どもの集い", new[] { "猛者", "ども", "の", "集い" })]
    [InlineData("うまいかまずいか", new[] { "うまい", "か", "まずい", "か" })]
    [InlineData("守衛にとがめられた", new[] { "守衛", "に", "とがめられた" })]
    [InlineData("問い合わせがたくさん", new[] { "問い合わせ", "が", "たくさん" })]
    [InlineData("楽しみがたくさん", new[] { "楽しみ", "が", "たくさん" })]
    [InlineData("ふくろうは", new[] { "ふくろう", "は" })]
    [InlineData("筋をもんでくれ", new[] { "筋", "を", "もんで", "くれ" })]
    [InlineData("いわきからさいたままで", new[] { "いわき", "から", "さいたま", "まで" })]
    [InlineData("新型コロナウイルス", new[] { "新型コロナウイルス" })]
    [InlineData("新型コロナウィルス", new[] { "新型コロナウィルス" })]
    [InlineData("映画を見るとか食事をするとか", new[] { "映画", "を", "見る", "とか", "食事", "を", "する", "とか" })]
    [InlineData("さもうれしそうに笑う", new[] { "さも", "うれしそう", "に", "笑う" })]
    [InlineData("出しなに客が来る", new[] { "出しな", "に", "客", "が", "来る" })]
    [InlineData("出しながら飛んで", new[] { "出しながら", "飛んで" })]
    [InlineData("正直言いたい", new[] { "正直", "言いたい" })]
    [InlineData("おとめにふさわしい振る舞い", new[] { "おとめ", "に", "ふさわしい", "振る舞い" })]
    [InlineData("気がないのよ", new[] { "気がない", "の", "よ" })]
    [InlineData("口論のあげくに殴り合いになった", new[] { "口論", "の", "あげく", "に", "殴り合い", "に", "なった" })]
    [InlineData("お手数おかけします", new[] { "お手数", "おかけします" })]
    [InlineData("３０分後におかけ直しください", new[] { "３０分", "後", "に", "お", "かけ直し", "ください" })]
    [InlineData("わかりきった", new[] { "わかりきった" })]
    [InlineData("最良の方法は何だと思いますか", new[] { "最良", "の", "方法", "は", "何", "だ", "と", "思います", "か" })]
    [InlineData("どうせいやがらせでする", new[] { "どうせ", "いやがらせ", "で", "する" })]
    [InlineData("芝居もどきのせりふを言う", new[] { "芝居", "もどき", "の", "せりふ", "を", "言う" })]
    [InlineData("がんもどきという食品", new[] { "がんもどき", "という", "食品" })]
    [InlineData("落ちこぼれている", new[] { "落ちこぼれている" })]
    [InlineData("１話しか見てない", new[] { "１話", "しか", "見てない" })]
    [InlineData("忙しくてろくに更新もできず", new[] { "忙しくて", "ろくに", "更新", "も", "できず" })]
    [InlineData("だまってろって", new[] { "だまってろ", "って" })]
    [InlineData("しっぽく蕎麦", new[] { "しっぽく", "蕎麦" })]
    [InlineData("猫はしっぽをぴんと立てて歩いた", new[] { "猫", "は", "しっぽ", "を", "ぴんと", "立てて", "歩いた" })]
    [InlineData("やる気はない", new[] { "やる気", "は", "ない" })]
    [InlineData("あけましておめでとうございます", new[] { "あけましておめでとうございます" })]
    [InlineData("おれたちは行くのにおまえたちは行かぬ", new[] { "おれたち", "は", "行く", "のに", "おまえたち", "は", "行かぬ" })]
    [InlineData("よろしくおねがいします", new[] { "よろしくおねがいします" })]
    [InlineData("気を遣ってくれてるのかと思ってました", new[] { "気を遣ってくれてる", "のか", "と", "思ってました" })]
    [InlineData("太陽をかたどったしるし", new[] { "太陽", "を", "かたどった", "しるし" })]
    [InlineData("間違えていらっしゃるのかしら", new[] { "間違えて", "いらっしゃる", "の", "かしら" })]
    [InlineData("ヤツはいそうにないな", new[] { "ヤツ", "は", "いそうにない", "な" })]
    [InlineData("確認をとっています", new[] { "確認", "を", "とっています" })]
    [InlineData("人口１０万人以上の都市の中で唯一旅客を扱う鉄道駅が存在せず",
                new[] { "人口", "１０万人", "以上", "の", "都市", "の", "中", "で", "唯一", "旅客", "を", "扱う", "鉄道駅", "が", "存在", "せず" })]
    [InlineData("だしはおいしい", new[] { "だし", "は", "おいしい" })]
    [InlineData("だして", new[] { "だして" })]
    [InlineData("だしといて", new[] { "だしといて" })]
    [InlineData("割り切れたら", new[] { "割り切れたら" })]
    [InlineData("あり得なかったり", new[] { "あり得なかったり" })]
    [InlineData("代わり映え", new[] { "代わり映え" })]
    [InlineData("器用なのですぐ上達しますよ", new[] { "器用", "なので", "すぐ", "上達します", "よ" })]
    [InlineData("おにいちゃん", new[] { "おにいちゃん" })]
    [InlineData("動画につまってる", new[] { "動画", "に", "つまってる" })]
    [InlineData("出来そう", new[] { "出来そう" })]
    [InlineData("その上着貸してください", new[] { "その", "上着", "貸して", "ください" })]
    [InlineData("幸多き", new[] { "幸", "多き" })]
    [InlineData("きっと気に入っていつかまた来てくれるよ", new[] { "きっと", "気に入って", "いつか", "また", "来て", "くれる", "よ" })]
    [InlineData("私がいそうな場所知ってたんだから", new[] { "私", "が", "いそう", "な", "場所", "知ってた", "んだ", "から" })]
    [InlineData("うまくハメられた", new[] { "うまく", "ハメられた" })]
    [InlineData("してるとこだから", new[] { "してる", "とこ", "だから" })]
    [InlineData("下記のとおりです", new[] { "下記", "の", "とおり", "です" })]
    [InlineData("すぐに終わってしまった", new[] { "すぐに", "終わってしまった" })]
    [InlineData("間違いない", new[] { "間違いない" })]
    [InlineData("として", new[] { "として" })]
    [InlineData("自分でも信じられないような気分だった", new[] { "自分でも", "信じられない", "ような", "気分", "だった" })]
    [InlineData("必要な", new[] { "必要な" })]
    [InlineData("大切な", new[] { "大切な" })]
    [InlineData("飽き始める", new[] { "飽き", "始める" })]
    [InlineData("教えてあげましょう", new[] { "教えて", "あげましょう" })]
    [InlineData("でもなければ難しいだろう無ければ飽きを自覚しにくい", new[] { "でも", "なければ", "難しい", "だろう", "無ければ", "飽き", "を", "自覚し", "にくい" })]
    [InlineData("引っ張り上げて貰って", new[] { "引っ張り上げて", "貰って" })]
    [InlineData("信じて貰えなかった", new[] { "信じて", "貰えなかった" })]
    [InlineData("生きて行けばいい", new[] { "生きて行けば", "いい" })]
    [InlineData("持てそうだ", new[] { "持てそう", "だ" })]
    [InlineData("引けなくなってしまって", new[] { "引けなく", "なってしまって" })]
    [InlineData("ぶつけるべき", new[] { "ぶつける", "べき" })]
    [InlineData("助けてもらえる", new[] { "助けて", "もらえる" })]
    [InlineData("近づいて来ている", new[] { "近づいて", "来ている" })]
    [InlineData("教えてくれるだろうけれど", new[] { "教えて", "くれる", "だろう", "けれど" })]
    [InlineData("通用しない果てしない遠慮しない", new[] { "通用", "しない", "果てしない", "遠慮", "しない" })]
    [InlineData("痛み出したり", new[] { "痛み", "出したり" })]
    [InlineData("田中さんは昨日公園に行かなければならなかったんだけど雨だったので結局行けなかったみたい。",
                new[] { "田中", "さん", "は", "昨日", "公園", "に", "行かなければ", "ならなかった", "んだ", "けど", "雨", "だった", "ので", "結局", "行けなかった", "みたい" })]
    [InlineData("あの美味しいラーメン屋には友達と一緒に行ってみたいんですがなかなか時間が取れなくて困っています",
                new[] { "あの", "美味しい", "ラーメン屋", "には", "友達", "と", "一緒に", "行って", "みたい", "んです", "が", "なかなか", "時間", "が", "取れなくて", "困っています" })]
    [InlineData("佐藤くんは泣きながら３人の子供たちにお菓子をあげてごめんねと言っていたそうです",
                new[] { "佐藤", "くん", "は", "泣き", "ながら", "３人", "の", "子供たち", "に", "お菓子", "を", "あげて", "ごめん", "ね", "と", "言っていた", "そうです" })]
    [InlineData("これはただのペンじゃなくて社長からもらった特別なものなので失くさないように注意してください",
                new[] { "これ", "は", "ただ", "の", "ペン", "じゃなくて", "社長", "から", "もらった", "特別な", "もの", "なので", "失くさない", "ように", "注意して", "ください" })]
    [InlineData("誰でもいいわけではないが彼でさえ出来れば君だって出来るはずそれにすぐには無理かもしれないけど頑張ればきっと大丈夫だよ",
                new[]
                {
                    "誰でも", "いいわけ", "ではない", "が", "彼", "でさえ", "出来れば", "君", "だって", "出来る", "はず", "それに", "すぐに", "は", "無理", "かもしれない", "けど",
                    "頑張れば", "きっと", "大丈夫", "だ", "よ"
                })]
    [InlineData("急にこれを食べさせられちゃったって言われてもちょっと困るなあ", new[] { "急に", "これ", "を", "食べさせられちゃった", "って", "言われて", "も", "ちょっと", "困る", "なあ" })]
    public async Task SegmentationTest(string text, string[] expectedResult)
    {
        (await Parse(text)).Select(r => r.Text).Should().Equal(expectedResult);
    }
}